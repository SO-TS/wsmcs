name = "wsmcs"
main = "dist/index.js"
compatibility_date = "2024-12-16"

# 定义环境
[env.production]
name = "wsmcs-prod"
routes = [
  { pattern = "wsmcs.top", zone_name = "wsmcs.top" },
  { pattern = "*.wsmcs.top", zone_name = "wsmcs.top" }
]
vars = { ENVIRONMENT = "production" }

[env.staging]
name = "wsmcs-staging"
routes = [
  { pattern = "staging.wsmcs.top", zone_name = "wsmcs.top" }
]
vars = { ENVIRONMENT = "staging" }



# 开发配置
[dev]
port = 8787
local_protocol = "http"

# 依赖配置
[durable_objects]
bindings = []

# 告诉 Wrangler 在哪里找到我们的源代码
[site]
bucket = "./dist"

# 兼容性标志
compatibility_flags = [
  "nodejs_compat",
  "streams_enable_constructors"
]

# 性能优化 - 免费计划限制
[limits]
cpu_ms = 10
