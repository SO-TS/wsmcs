# Cloudflare Workers 环境配置

## 生产环境 (.env.production)

```
VITE_ENVIRONMENT=production
VITE_API_URL=https://api.wsmcs.cn
VITE_ANALYTICS_ID=your-analytics-id
```

## 暂存环境 (.env.staging)

```
VITE_ENVIRONMENT=staging
VITE_API_URL=https://staging-api.wsmcs.cn
VITE_ANALYTICS_ID=staging-analytics-id
```

## 本地开发环境 (.env.development)

```
VITE_ENVIRONMENT=development
VITE_API_URL=http://localhost:3000
VITE_ANALYTICS_ID=local-analytics-id
```

## 环境变量说明

- **VITE_ENVIRONMENT**: 当前环境标识
- **VITE_API_URL**: API 服务器地址
- **VITE_ANALYTICS_ID**: 分析工具 ID（如 Google Analytics）

## 在 Vue 组件中使用环境变量

```javascript
// 访问环境变量
const environment = import.meta.env.VITE_ENVIRONMENT;
const apiUrl = import.meta.env.VITE_API_URL;

// 仅在生产环境中执行
if (import.meta.env.PROD) {
  // 生产环境代码
}

// 仅在开发环境中执行
if (import.meta.env.DEV) {
  // 开发环境代码
}
```

## Cloudflare Workers 环境变量

在 `wrangler.toml` 中配置：

```toml
[env.production]
vars = { ENVIRONMENT = "production", API_BASE_URL = "https://api.wsmcs.cn" }

[env.staging]
vars = { ENVIRONMENT = "staging", API_BASE_URL = "https://staging-api.wsmcs.cn" }
```

在 `worker.js` 中访问：

```javascript
export default {
  async fetch(request, env, ctx) {
    const environment = env.ENVIRONMENT;
    const apiUrl = env.API_BASE_URL;
  }
}
```
